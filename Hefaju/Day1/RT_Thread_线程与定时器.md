## RT_Thread的学习DAY02（定时器与线程）

#### 1.创建一个线程，该线程中启动一个定时器。定时器回调中输出自己的信息。
主要思路：
1. 用rt_thread_create创建一个动态线程
2. rt_thread_start对线程进行启动
3. 在thread的接口函数中创建timer并启动
4. timer的创建使用rt_timer_create，并将flag设置为***PERIODIC***（周期的）
5. 在timer的回调函数中设置打印，并设置一个if判断进行次数限制

运行效果：

![](..\Source\images\屏幕截图 2022-07-19 214121.png)

主要代码部分：

![](..\Source\images\屏幕截图 2022-07-19 215450.png)

通过msh调用thread_sample实现程序运行

---

#### 2.静态线程/动态线程创建的函数调用关系图。
通过打开动态创建线程的对象(rt_thread_t)能够看到：
![](..\Source\images\屏幕截图 2022-07-19 215858.png)

而rt_thread正是静态线程创建的对象，故动态的只是静态创建的一个指针，通过指针实现动静态切换

---

#### 3.软/硬定时器调用关系图。

两者区别：
HARD_TIMER 模式的定时器超时函数在中断上下文环境中执行
SOFT_TIMER 模式的定时器超时函数在都会在 timer 线程的上下文环境中执行。

不难看出，SOFT模式占用的时线程的时间；而HARD模式则是占用了***系统中断***的时间，故能够得到以下关系图

![](..\Source\images\屏幕截图 2022-07-19 221354.png)

---

**总结：今天的学习让我了解的RTOS的基本运行逻辑，让我学会了RTT中的线程与定时器的操作，为以后的工作与学习打下坚实的基础。**
